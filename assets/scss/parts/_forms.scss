@use "mixins" as mixins;

/* Universal Form Elements Styles */

// Base form styles
.form-group {
  margin-bottom: 1.5rem;

  &:last-child {
    margin-bottom: 0;
  }
}

.form-label {
  display: block;
  font-family: var(--font-urbanist);
  font-weight: 600;
  font-size: 1rem;
  color: var(--color-dark);
  margin-bottom: 0.5rem;
  line-height: 1.4;

  &.required::after {
    content: " *";
    color: #e74c3c;
    font-weight: 700;
  }
}

.form-description {
  font-size: 0.875rem;
  color: var(--color-text);
  margin-top: 0.25rem;
  line-height: 1.4;
  opacity: 0.8;
}

// Input styles
.form-input,
input[type="text"],
input[type="email"],
input[type="password"],
input[type="tel"],
input[type="url"],
input[type="number"],
input[type="date"],
input[type="time"],
input[type="datetime-local"],
input[type="month"],
input[type="week"] {
  width: 100%;
  padding: 1rem 1.25rem;
  border: 2px solid #e1e5e9;
  border-radius: 12px;
  font-size: 1rem;
  font-family: var(--font-plus);
  color: var(--color-dark);
  background: var(--color-white);
  transition: all 0.3s ease;
  box-sizing: border-box;

  &::placeholder {
    color: var(--color-text);
    opacity: 0.6;
    font-style: italic;
  }

  &:focus {
    outline: 3px solid #005fcc;
    outline-offset: 2px;
    border-color: var(--color-yellow);
    background: rgba(216, 177, 80, 0.02);
  }

  &:hover:not(:focus) {
    border-color: #c1c8cd;
  }

  &:disabled {
    background: #f8f9fa;
    color: #6c757d;
    cursor: not-allowed;
    opacity: 0.6;
  }

  &.error {
    border-color: #e74c3c;
  }

  &.success {
    border-color: #27ae60;
  }
}

// Textarea styles
.form-textarea,
textarea {
  width: 100%;
  min-height: 120px;
  padding: 1rem 1.25rem;
  border: 2px solid #e1e5e9;
  border-radius: 12px;
  font-size: 1rem;
  font-family: var(--font-plus);
  color: var(--color-dark);
  background: var(--color-white);
  transition: all 0.3s ease;
  resize: vertical;
  box-sizing: border-box;
  line-height: 1.5;

  &::placeholder {
    color: var(--color-text);
    opacity: 0.6;
    font-style: italic;
  }

  &:focus {
    outline: 3px solid #005fcc;
    outline-offset: 2px;
    border-color: var(--color-yellow);
    background: rgba(216, 177, 80, 0.02);
  }

  &:hover:not(:focus) {
    border-color: #c1c8cd;
  }

  &:disabled {
    background: #f8f9fa;
    color: #6c757d;
    cursor: not-allowed;
    opacity: 0.6;
  }

  &.error {
    border-color: #e74c3c;
  }

  &.success {
    border-color: #27ae60;
  }
}

// Select styles
.form-select,
select {
  width: 100%;
  padding: 1rem 3rem 1rem 1.25rem;
  border: 2px solid #e1e5e9;
  border-radius: 12px;
  font-size: 1rem;
  font-family: var(--font-plus);
  color: var(--color-dark);
  background: var(--color-white);
  background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");
  background-position: right 1rem center;
  background-repeat: no-repeat;
  background-size: 1.5em 1.5em;
  transition: all 0.3s ease;
  cursor: pointer;
  appearance: none;
  box-sizing: border-box;

  &:focus {
    outline: 3px solid #005fcc;
    outline-offset: 2px;
    border-color: var(--color-yellow);
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%23d8b150' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");
  }

  &:hover:not(:focus) {
    border-color: #c1c8cd;
  }

  &:disabled {
    background: #f8f9fa;
    color: #6c757d;
    cursor: not-allowed;
    opacity: 0.6;
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236c757d' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");
  }

  &.error {
    border-color: #e74c3c;
  }

  &.success {
    border-color: #27ae60;
  }

  option {
    padding: 0.5rem;
    color: var(--color-dark);
  }
}

// Checkbox and Radio styles
.form-checkbox,
.form-radio,
input[type="checkbox"],
input[type="radio"] {
  width: 1.25rem;
  height: 1.25rem;
  margin: 0;
  cursor: pointer;
  accent-color: var(--color-yellow);

  &:disabled {
    cursor: not-allowed;
    opacity: 0.6;
  }
}

.form-checkbox-label,
.form-radio-label {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  font-family: var(--font-plus);
  font-size: 1rem;
  color: var(--color-dark);
  cursor: pointer;
  line-height: 1.4;

  &:hover {
    color: var(--color-text);
  }
}

// File input styles
.form-file,
input[type="file"] {
  width: 100%;
  padding: 1rem 1.25rem;
  border: 2px dashed #e1e5e9;
  border-radius: 12px;
  font-size: 1rem;
  font-family: var(--font-plus);
  color: var(--color-dark);
  background: #f8f9fa;
  transition: all 0.3s ease;
  outline: none;
  cursor: pointer;
  box-sizing: border-box;

  &:hover {
    border-color: var(--color-yellow);
    background: rgba(216, 177, 80, 0.05);
  }

  &:focus {
    border-color: var(--color-yellow);
    background: rgba(216, 177, 80, 0.05);
  }

  &:disabled {
    background: #f8f9fa;
    color: #6c757d;
    cursor: not-allowed;
    opacity: 0.6;
  }
}

// Submit button styles
.form-submit-button,
input[type="submit"],
input[type="button"],
button[type="submit"] {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  min-width: 140px;
  padding: 1rem 1.5rem;
  border: 2px solid var(--color-yellow);
  border-radius: 12px;
  font-family: var(--font-urbanist);
  font-weight: 500;
  font-size: 1rem;
  line-height: 1.5;
  color: var(--color-dark);
  background: var(--color-yellow);
  cursor: pointer;
  transition: all 0.3s ease;
  outline: none;
  text-decoration: none;
  box-sizing: border-box;

  &:hover {
    background: var(--color-dark);
    border-color: var(--color-dark);
    color: var(--color-white);
    transform: translateY(-2px);
  }

  &:active {
    transform: translateY(0);
  }

  &:disabled {
    background: #e1e5e9;
    border-color: #e1e5e9;
    color: #6c757d;
    cursor: not-allowed;
    transform: none;
    box-shadow: none;
    opacity: 0.6;

    &:hover {
      background: #e1e5e9;
      border-color: #e1e5e9;
      color: #6c757d;
      transform: none;
      box-shadow: none;
    }
  }

  // Loading state
  &.loading {
    position: relative;
    color: transparent;

    &::after {
      content: '';
      position: absolute;
      width: 20px;
      height: 20px;
      border: 2px solid var(--color-dark);
      border-top: 2px solid transparent;
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }
  }

  // Icon support
  svg {
    width: 1rem;
    height: 1rem;
    transition: transform 0.3s ease;
  }

  &:hover svg {
    transform: translateX(2px);
  }
}

// Alternative submit button styles
.form-submit--outline,
input[type="submit"].outline {
  background: transparent;
  color: var(--color-yellow);
  border-color: var(--color-yellow);

  &:hover {
    background: var(--color-yellow);
    color: var(--color-dark);
  }

  &:disabled {
    background: transparent;
    border-color: #e1e5e9;
    color: #6c757d;

    &:hover {
      background: transparent;
      border-color: #e1e5e9;
      color: #6c757d;
    }
  }
}

.form-submit--dark,
input[type="submit"].dark {
  background: var(--color-dark);
  border-color: var(--color-dark);
  color: var(--color-white);

  &:hover {
    background: var(--color-yellow);
    border-color: var(--color-yellow);
    color: var(--color-dark);
  }

  &:disabled {
    background: #6c757d;
    border-color: #6c757d;
    color: #e1e5e9;

    &:hover {
      background: #6c757d;
      border-color: #6c757d;
      color: #e1e5e9;
    }
  }
}

.form-submit--small,
input[type="submit"].small {
  min-width: 100px;
  padding: 0.75rem 1rem;
  font-size: 0.9rem;
}

.form-submit--large,
input[type="submit"].large {
  min-width: 200px;
  padding: 1.25rem 2rem;
  font-size: 1.125rem;
}

// Loading animation
@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

// Range input styles
.form-range,
input[type="range"] {
  width: 100%;
  height: 0.5rem;
  background: #e1e5e9;
  border-radius: 0.25rem;
  outline: none;
  cursor: pointer;
  appearance: none;

  &::-webkit-slider-thumb {
    appearance: none;
    width: 1.25rem;
    height: 1.25rem;
    background: var(--color-yellow);
    border-radius: 50%;
    cursor: pointer;
    transition: all 0.3s ease;

    &:hover {
      transform: scale(1.1);
    }
  }

  &::-moz-range-thumb {
    width: 1.25rem;
    height: 1.25rem;
    background: var(--color-yellow);
    border-radius: 50%;
    cursor: pointer;
    border: none;
    transition: all 0.3s ease;

    &:hover {
      transform: scale(1.1);
    }
  }
}

// Form validation styles
.form-error {
  color: #e74c3c;
  font-size: 0.875rem;
  margin-top: 0.25rem;
  display: flex;
  align-items: center;
  gap: 0.5rem;

  &::before {
    content: "⚠";
    font-size: 0.75rem;
  }
}

.form-success {
  color: #27ae60;
  font-size: 0.875rem;
  margin-top: 0.25rem;
  display: flex;
  align-items: center;
  gap: 0.5rem;

  &::before {
    content: "✓";
    font-size: 0.75rem;
  }
}

// Form variants
.form-group--inline {
  display: flex;
  align-items: center;
  gap: 1rem;

  .form-label {
    margin-bottom: 0;
    min-width: 120px;
  }
}

.form-group--horizontal {
  display: grid;
  grid-template-columns: 1fr 2fr;
  gap: 1rem;
  align-items: center;

  .form-label {
    margin-bottom: 0;
  }
}

// Dark theme variants
.form-group--dark {
  .form-label {
    color: var(--color-white);
  }

  .form-description {
    color: rgba(255, 255, 255, 0.8);
  }

  .form-input,
  .form-textarea,
  .form-select,
  input[type="text"],
  input[type="email"],
  input[type="password"],
  input[type="tel"],
  input[type="url"],
  input[type="number"],
  textarea,
  select {
    background: rgba(31, 31, 31, 0.9);
    border-color: rgba(216, 177, 80, 0.3);
    color: var(--color-white);

    &::placeholder {
      color: rgba(255, 255, 255, 0.6);
    }

    &:focus {
      border-color: var(--color-yellow);
      background: rgba(31, 31, 31, 0.95);
    }
  }

  .form-file,
  input[type="file"] {
    background: rgba(31, 31, 31, 0.5);
    border-color: rgba(216, 177, 80, 0.3);
    color: var(--color-white);

    &:hover,
    &:focus {
      background: rgba(216, 177, 80, 0.1);
    }
  }
}

// Responsive adjustments
@include mixins.media-breakpoint-down(768) {
  .form-input,
  .form-textarea,
  .form-select,
  input[type="text"],
  input[type="email"],
  input[type="password"],
  input[type="tel"],
  input[type="url"],
  input[type="number"],
  textarea,
  select {
    padding: 0.875rem 1rem;
    font-size: 0.95rem;
  }

  .form-submit-button,
  input[type="submit"],
  input[type="button"],
  button[type="submit"] {
    padding: 0.875rem 1.25rem;
    font-size: 0.95rem;
    min-width: 120px;
  }

  .form-group--horizontal {
    grid-template-columns: 1fr;
    gap: 0.5rem;
  }

  .form-group--inline {
    flex-direction: column;
    align-items: flex-start;
    gap: 0.5rem;
  }
}

@include mixins.media-breakpoint-down(576) {
  .form-input,
  .form-textarea,
  .form-select,
  input[type="text"],
  input[type="email"],
  input[type="password"],
  input[type="tel"],
  input[type="url"],
  input[type="number"],
  textarea,
  select {
    padding: 0.75rem 0.875rem;
    font-size: 0.9rem;
  }

  .form-submit-button,
  input[type="submit"],
  input[type="button"],
  button[type="submit"] {
    padding: 0.75rem 1rem;
    font-size: 0.9rem;
    min-width: 100px;
  }

  .form-label {
    font-size: 0.95rem;
  }

  .form-description {
    font-size: 0.8rem;
  }
}

// Global focus styles for accessibility
button:focus,
a:focus,
input[type="submit"]:focus,
input[type="button"]:focus,
input[type="reset"]:focus {
  outline: 3px solid #005fcc;
  outline-offset: 2px;
}

// Remove default outline for mouse users but keep for keyboard navigation
button:focus:not(:focus-visible),
a:focus:not(:focus-visible),
input[type="submit"]:focus:not(:focus-visible),
input[type="button"]:focus:not(:focus-visible),
input[type="reset"]:focus:not(:focus-visible) {
  outline: none;
}
